# ROSARoleConfig API

ROSARoleConfig is the Schema for the rosaroleconfigs API

## Spec Fields

ROSARoleConfigSpec defines the desired state of ROSARoleConfig

| Field | Type | Description | Validations |
|:---|---|---|---|
|  **accountRoleConfig** | `object` | AccountRoleConfig defines account-wide IAM roles before creating your ROSA cluster. | N/A |
| └>&nbsp;&nbsp; **path** | `string` | The arn path for the account/operator roles as well as their policies. | N/A |
| └>&nbsp;&nbsp; **permissionsBoundaryARN** | `string` | The ARN of the policy that is used to set the permissions boundary for the account roles. | N/A |
| └>&nbsp;&nbsp; **prefix** | `string` | User-defined prefix for all generated AWS account role | `Pattern=^[a-z]([-a-z0-9]*[a-z0-9])?$` |
| └>&nbsp;&nbsp; **sharedVPCConfig** | `object` | SharedVPCConfig is used to set up shared VPC. | N/A |
| &nbsp;&nbsp;&nbsp;&nbsp;└>&nbsp;&nbsp; **routeRoleARN** | `string` | Role ARN associated with the private hosted zone used for Hosted Control Plane cluster shared VPC, this role contains policies to be used with Route 53 | N/A |
| &nbsp;&nbsp;&nbsp;&nbsp;└>&nbsp;&nbsp; **vpcEndpointRoleArn** | `string` | Role ARN associated with the shared VPC used for Hosted Control Plane clusters, this role contains policies to be used with the VPC endpoint | N/A |
| └>&nbsp;&nbsp; **version** | `string` | Version of OpenShift that will be used to the roles tag in formate of x.y.z example; "4.19.0" Setting the role OpenShift version tag does not affect the associated ROSAControlplane version. | N/A |
|  **credentialsSecretRef** | `object` | CredentialsSecretRef references a secret with necessary credentials to connect to the OCM API. | N/A |
| └>&nbsp;&nbsp; **name** | `string` | Name of the referent. This field is effectively required, but due to backwards compatibility is allowed to be empty. Instances of this type with an empty value here are almost certainly wrong. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names | N/A |
|  **identityRef** | `object` | IdentityRef is a reference to an identity to be used when reconciling the ROSA Role Config. If no identity is specified, the default identity for this controller will be used. | N/A |
| └>&nbsp;&nbsp; **kind** | `string` | Kind of the identity. | N/A |
| └>&nbsp;&nbsp; **name** | `string` | Name of the identity. | N/A |
|  **oidcProviderType** | `string` | OIDC provider type values are Managed or UnManaged. When set to Unmanged OperatorRoleConfig OIDCID field must be provided. | N/A |
|  **operatorRoleConfig** | `object` | OperatorRoleConfig defines cluster-specific operator IAM roles based on your cluster configuration. | N/A |
| └>&nbsp;&nbsp; **oidcID** | `string` | OIDCID is the ID of the OIDC config that will be used to create the operator roles. Cannot be set when OidcProviderType set to Managed | N/A |
| └>&nbsp;&nbsp; **permissionsBoundaryARN** | `string` | The ARN of the policy that is used to set the permissions boundary for the operator roles. | N/A |
| └>&nbsp;&nbsp; **prefix** | `string` |  User-defined prefix for generated AWS operator roles. | `Pattern=^[a-z]([-a-z0-9]*[a-z0-9])?$` |
| └>&nbsp;&nbsp; **sharedVPCConfig** | `object` | SharedVPCConfig is used to set up shared VPC. | N/A |
| &nbsp;&nbsp;&nbsp;&nbsp;└>&nbsp;&nbsp; **routeRoleARN** | `string` | Role ARN associated with the private hosted zone used for Hosted Control Plane cluster shared VPC, this role contains policies to be used with Route 53 | N/A |
| &nbsp;&nbsp;&nbsp;&nbsp;└>&nbsp;&nbsp; **vpcEndpointRoleArn** | `string` | Role ARN associated with the shared VPC used for Hosted Control Plane clusters, this role contains policies to be used with the VPC endpoint | N/A |
## Status Fields

ROSARoleConfigStatus defines the observed state of ROSARoleConfig

| Field | Type | Description | Validations |
|:---|---|---|---|
|  **accountRolesRef** | `object` | Created Account roles that can be used to | N/A |
| └>&nbsp;&nbsp; **installerRoleARN** | `string` | InstallerRoleARN is an AWS IAM role that OpenShift Cluster Manager will assume to create the cluster.. | N/A |
| └>&nbsp;&nbsp; **supportRoleARN** | `string` | SupportRoleARN is an AWS IAM role used by Red Hat SREs to enable access to the cluster account in order to provide support. | N/A |
| └>&nbsp;&nbsp; **workerRoleARN** | `string` | WorkerRoleARN is an AWS IAM role that will be attached to worker instances. | N/A |
|  **conditions** | `array` | Conditions specifies the ROSARoleConfig conditions | N/A |
| └>&nbsp;&nbsp; **lastTransitionTime** | `string` | lastTransitionTime is the last time the condition transitioned from one status to another. This should be when the underlying condition changed. If that is not known, then using the time when the API field changed is acceptable. | N/A |
| └>&nbsp;&nbsp; **message** | `string` | message is a human readable message indicating details about the transition. This field may be empty. | N/A |
| └>&nbsp;&nbsp; **reason** | `string` | reason is the reason for the condition's last transition in CamelCase. The specific API may choose whether or not this field is considered a guaranteed API. This field may be empty. | N/A |
| └>&nbsp;&nbsp; **severity** | `string` | severity provides an explicit classification of Reason code, so the users or machines can immediately understand the current situation and act accordingly. The Severity field MUST be set only when Status=False. | N/A |
| └>&nbsp;&nbsp; **status** | `string` | status of the condition, one of True, False, Unknown. | N/A |
| └>&nbsp;&nbsp; **type** | `string` | type of condition in CamelCase or in foo.example.com/CamelCase. Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be useful (see .node.status.conditions), the ability to deconflict is important. | N/A |
|  **oidcID** | `string` | ID of created OIDC config | N/A |
|  **oidcProviderARN** | `string` | Create OIDC provider for operators to authenticate against in an STS cluster. | N/A |
|  **operatorRolesRef** | `object` | AWS IAM roles used to perform credential requests by the openshift operators. | N/A |
| └>&nbsp;&nbsp; **controlPlaneOperatorARN** | `string` | ControlPlaneOperatorARN  is an ARN value referencing a role appropriate for the Control Plane Operator.  The following is an example of a valid policy document:  { 	"Version": "2012-10-17", 	"Statement": [ 		{ 			"Effect": "Allow", 			"Action": [ 				"ec2:CreateVpcEndpoint", 				"ec2:DescribeVpcEndpoints", 				"ec2:ModifyVpcEndpoint", 				"ec2:DeleteVpcEndpoints", 				"ec2:CreateTags", 				"route53:ListHostedZones", 				"ec2:CreateSecurityGroup", 				"ec2:AuthorizeSecurityGroupIngress", 				"ec2:AuthorizeSecurityGroupEgress", 				"ec2:DeleteSecurityGroup", 				"ec2:RevokeSecurityGroupIngress", 				"ec2:RevokeSecurityGroupEgress", 				"ec2:DescribeSecurityGroups", 				"ec2:DescribeVpcs", 			], 			"Resource": "*" 		}, 		{ 			"Effect": "Allow", 			"Action": [ 				"route53:ChangeResourceRecordSets", 				"route53:ListResourceRecordSets" 			], 			"Resource": "arn:aws:route53:::%s" 		} 	] } | N/A |
| └>&nbsp;&nbsp; **imageRegistryARN** | `string` | ImageRegistryARN is an ARN value referencing a role appropriate for the Image Registry Operator.  The following is an example of a valid policy document:  { 	"Version": "2012-10-17", 	"Statement": [ 		{ 			"Effect": "Allow", 			"Action": [ 				"s3:CreateBucket", 				"s3:DeleteBucket", 				"s3:PutBucketTagging", 				"s3:GetBucketTagging", 				"s3:PutBucketPublicAccessBlock", 				"s3:GetBucketPublicAccessBlock", 				"s3:PutEncryptionConfiguration", 				"s3:GetEncryptionConfiguration", 				"s3:PutLifecycleConfiguration", 				"s3:GetLifecycleConfiguration", 				"s3:GetBucketLocation", 				"s3:ListBucket", 				"s3:GetObject", 				"s3:PutObject", 				"s3:DeleteObject", 				"s3:ListBucketMultipartUploads", 				"s3:AbortMultipartUpload", 				"s3:ListMultipartUploadParts" 			], 			"Resource": "*" 		} 	] } | N/A |
| └>&nbsp;&nbsp; **ingressARN** | `string` | The referenced role must have a trust relationship that allows it to be assumed via web identity. https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_oidc.html. Example: { 		"Version": "2012-10-17", 		"Statement": [ 			{ 				"Effect": "Allow", 				"Principal": { 					"Federated": "" 				}, 					"Action": "sts:AssumeRoleWithWebIdentity", 				"Condition": { 					"StringEquals": { 						":sub":  					} 				} 			} 		] 	}  IngressARN is an ARN value referencing a role appropriate for the Ingress Operator.  The following is an example of a valid policy document:  { 	"Version": "2012-10-17", 	"Statement": [ 		{ 			"Effect": "Allow", 			"Action": [ 				"elasticloadbalancing:DescribeLoadBalancers", 				"tag:GetResources", 				"route53:ListHostedZones" 			], 			"Resource": "*" 		}, 		{ 			"Effect": "Allow", 			"Action": [ 				"route53:ChangeResourceRecordSets" 			], 			"Resource": [ 				"arn:aws:route53:::PUBLIC_ZONE_ID", 				"arn:aws:route53:::PRIVATE_ZONE_ID" 			] 		} 	] } | N/A |
| └>&nbsp;&nbsp; **kmsProviderARN** | `string` | No description provided. | N/A |
| └>&nbsp;&nbsp; **kubeCloudControllerARN** | `string` | KubeCloudControllerARN is an ARN value referencing a role appropriate for the KCM/KCC. Source: https://cloud-provider-aws.sigs.k8s.io/prerequisites/#iam-policies The following is an example of a valid policy document:  {  "Version": "2012-10-17",  "Statement": [    {      "Action": [        "autoscaling:DescribeAutoScalingGroups",        "autoscaling:DescribeLaunchConfigurations",        "autoscaling:DescribeTags",        "ec2:DescribeAvailabilityZones",        "ec2:DescribeInstances",        "ec2:DescribeImages",        "ec2:DescribeRegions",        "ec2:DescribeRouteTables",        "ec2:DescribeSecurityGroups",        "ec2:DescribeSubnets",        "ec2:DescribeVolumes",        "ec2:CreateSecurityGroup",        "ec2:CreateTags",        "ec2:CreateVolume",        "ec2:ModifyInstanceAttribute",        "ec2:ModifyVolume",        "ec2:AttachVolume",        "ec2:AuthorizeSecurityGroupIngress",        "ec2:CreateRoute",        "ec2:DeleteRoute",        "ec2:DeleteSecurityGroup",        "ec2:DeleteVolume",        "ec2:DetachVolume",        "ec2:RevokeSecurityGroupIngress",        "ec2:DescribeVpcs",        "elasticloadbalancing:AddTags",        "elasticloadbalancing:AttachLoadBalancerToSubnets",        "elasticloadbalancing:ApplySecurityGroupsToLoadBalancer",        "elasticloadbalancing:CreateLoadBalancer",        "elasticloadbalancing:CreateLoadBalancerPolicy",        "elasticloadbalancing:CreateLoadBalancerListeners",        "elasticloadbalancing:ConfigureHealthCheck",        "elasticloadbalancing:DeleteLoadBalancer",        "elasticloadbalancing:DeleteLoadBalancerListeners",        "elasticloadbalancing:DescribeLoadBalancers",        "elasticloadbalancing:DescribeLoadBalancerAttributes",        "elasticloadbalancing:DetachLoadBalancerFromSubnets",        "elasticloadbalancing:DeregisterInstancesFromLoadBalancer",        "elasticloadbalancing:ModifyLoadBalancerAttributes",        "elasticloadbalancing:RegisterInstancesWithLoadBalancer",        "elasticloadbalancing:SetLoadBalancerPoliciesForBackendServer",        "elasticloadbalancing:AddTags",        "elasticloadbalancing:CreateListener",        "elasticloadbalancing:CreateTargetGroup",        "elasticloadbalancing:DeleteListener",        "elasticloadbalancing:DeleteTargetGroup",        "elasticloadbalancing:DeregisterTargets",        "elasticloadbalancing:DescribeListeners",        "elasticloadbalancing:DescribeLoadBalancerPolicies",        "elasticloadbalancing:DescribeTargetGroups",        "elasticloadbalancing:DescribeTargetHealth",        "elasticloadbalancing:ModifyListener",        "elasticloadbalancing:ModifyTargetGroup",        "elasticloadbalancing:RegisterTargets",        "elasticloadbalancing:SetLoadBalancerPoliciesOfListener",        "iam:CreateServiceLinkedRole",        "kms:DescribeKey"      ],      "Resource": [        "*"      ],      "Effect": "Allow"    }  ] } | N/A |
| └>&nbsp;&nbsp; **networkARN** | `string` | NetworkARN is an ARN value referencing a role appropriate for the Network Operator.  The following is an example of a valid policy document:  { 	"Version": "2012-10-17", 	"Statement": [ 		{ 			"Effect": "Allow", 			"Action": [ 				"ec2:DescribeInstances",        "ec2:DescribeInstanceStatus",        "ec2:DescribeInstanceTypes",        "ec2:UnassignPrivateIpAddresses",        "ec2:AssignPrivateIpAddresses",        "ec2:UnassignIpv6Addresses",        "ec2:AssignIpv6Addresses",        "ec2:DescribeSubnets",        "ec2:DescribeNetworkInterfaces" 			], 			"Resource": "*" 		} 	] } | N/A |
| └>&nbsp;&nbsp; **nodePoolManagementARN** | `string` | NodePoolManagementARN is an ARN value referencing a role appropriate for the CAPI Controller.  The following is an example of a valid policy document:  {   "Version": "2012-10-17",  "Statement": [    {      "Action": [        "ec2:AssociateRouteTable",        "ec2:AttachInternetGateway",        "ec2:AuthorizeSecurityGroupIngress",        "ec2:CreateInternetGateway",        "ec2:CreateNatGateway",        "ec2:CreateRoute",        "ec2:CreateRouteTable",        "ec2:CreateSecurityGroup",        "ec2:CreateSubnet",        "ec2:CreateTags",        "ec2:DeleteInternetGateway",        "ec2:DeleteNatGateway",        "ec2:DeleteRouteTable",        "ec2:DeleteSecurityGroup",        "ec2:DeleteSubnet",        "ec2:DeleteTags",        "ec2:DescribeAccountAttributes",        "ec2:DescribeAddresses",        "ec2:DescribeAvailabilityZones",        "ec2:DescribeImages",        "ec2:DescribeInstances",        "ec2:DescribeInternetGateways",        "ec2:DescribeNatGateways",        "ec2:DescribeNetworkInterfaces",        "ec2:DescribeNetworkInterfaceAttribute",        "ec2:DescribeRouteTables",        "ec2:DescribeSecurityGroups",        "ec2:DescribeSubnets",        "ec2:DescribeVpcs",        "ec2:DescribeVpcAttribute",        "ec2:DescribeVolumes",        "ec2:DetachInternetGateway",        "ec2:DisassociateRouteTable",        "ec2:DisassociateAddress",        "ec2:ModifyInstanceAttribute",        "ec2:ModifyNetworkInterfaceAttribute",        "ec2:ModifySubnetAttribute",        "ec2:RevokeSecurityGroupIngress",        "ec2:RunInstances",        "ec2:TerminateInstances",        "tag:GetResources",        "ec2:CreateLaunchTemplate",        "ec2:CreateLaunchTemplateVersion",        "ec2:DescribeLaunchTemplates",        "ec2:DescribeLaunchTemplateVersions",        "ec2:DeleteLaunchTemplate",        "ec2:DeleteLaunchTemplateVersions"      ],      "Resource": [        "*"      ],      "Effect": "Allow"    },    {      "Condition": {        "StringLike": {          "iam:AWSServiceName": "elasticloadbalancing.amazonaws.com"        }      },      "Action": [        "iam:CreateServiceLinkedRole"      ],      "Resource": [        "arn:*:iam::*:role/aws-service-role/elasticloadbalancing.amazonaws.com/AWSServiceRoleForElasticLoadBalancing"      ],      "Effect": "Allow"    },    {      "Action": [        "iam:PassRole"      ],      "Resource": [        "arn:*:iam::*:role/*-worker-role"      ],      "Effect": "Allow"    }, 	  { 	  	"Effect": "Allow", 	  	"Action": [ 	  		"kms:Decrypt", 	  		"kms:ReEncrypt", 	  		"kms:GenerateDataKeyWithoutPlainText", 	  		"kms:DescribeKey" 	  	], 	  	"Resource": "*" 	  }, 	  { 	  	"Effect": "Allow", 	  	"Action": [ 	  		"kms:CreateGrant" 	  	], 	  	"Resource": "*", 	  	"Condition": { 	  		"Bool": { 	  			"kms:GrantIsForAWSResource": true 	  		} 	  	} 	  }  ] } | N/A |
| └>&nbsp;&nbsp; **storageARN** | `string` | StorageARN is an ARN value referencing a role appropriate for the Storage Operator.  The following is an example of a valid policy document:  { 	"Version": "2012-10-17", 	"Statement": [ 		{ 			"Effect": "Allow", 			"Action": [ 				"ec2:AttachVolume", 				"ec2:CreateSnapshot", 				"ec2:CreateTags", 				"ec2:CreateVolume", 				"ec2:DeleteSnapshot", 				"ec2:DeleteTags", 				"ec2:DeleteVolume", 				"ec2:DescribeInstances", 				"ec2:DescribeSnapshots", 				"ec2:DescribeTags", 				"ec2:DescribeVolumes", 				"ec2:DescribeVolumesModifications", 				"ec2:DetachVolume", 				"ec2:ModifyVolume" 			], 			"Resource": "*" 		} 	] } | N/A |
