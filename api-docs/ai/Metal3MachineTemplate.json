{
  "kind": "Metal3MachineTemplate",
  "apiVersion": "infrastructure.cluster.x-k8s.io/v1beta1",
  "metadata": {
    "group": "infrastructure.cluster.x-k8s.io",
    "version": "v1beta1",
    "plural": "metal3machinetemplates",
    "singular": "metal3machinetemplate",
    "scope": "Namespaced"
  },
  "spec": {
    "description": "Metal3MachineTemplateSpec defines the desired state of Metal3MachineTemplate.",
    "fields": {
      "nodeReuse": {
        "type": "boolean",
        "description": "When set to True, CAPM3 Machine controller will\npick the same pool of BMHs' that were released during the upgrade operation.",
        "default": false
      },
      "template": {
        "type": "object",
        "description": "Metal3MachineTemplateResource describes the data needed to create a Metal3Machine from a template.",
        "required": true,
        "fields": {
          "spec": {
            "type": "object",
            "description": "Spec is the specification of the desired behavior of the machine.",
            "required": true,
            "fields": {
              "automatedCleaningMode": {
                "type": "string",
                "description": "When set to disabled, automated cleaning of host disks will be skipped\nduring provisioning and deprovisioning.",
                "enum": [
                  "metadata",
                  "disabled"
                ]
              },
              "customDeploy": {
                "type": "object",
                "description": "A custom deploy procedure.",
                "fields": {
                  "method": {
                    "type": "string",
                    "description": "Custom deploy method name.\nThis name is specific to the deploy ramdisk used. If you don't have\na custom deploy ramdisk, you shouldn't use CustomDeploy.",
                    "required": true
                  }
                }
              },
              "dataTemplate": {
                "type": "object",
                "description": "MetadataTemplate is a reference to a Metal3DataTemplate object containing\na template of metadata to be rendered. Metadata keys defined in the\nmetadataTemplate take precedence over keys defined in metadata field.",
                "fields": {
                  "apiVersion": {
                    "type": "string",
                    "description": "API version of the referent."
                  },
                  "fieldPath": {
                    "type": "string",
                    "description": "If referring to a piece of an object instead of an entire object, this string\nshould contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].\nFor example, if the object reference is to a container within a pod, this would take on a value like:\n\"spec.containers{name}\" (where \"name\" refers to the name of the container that triggered\nthe event) or if no container name is specified \"spec.containers[2]\" (container with\nindex 2 in this pod). This syntax is chosen only to have some well-defined way of\nreferencing a part of an object."
                  },
                  "kind": {
                    "type": "string",
                    "description": "Kind of the referent.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
                  },
                  "name": {
                    "type": "string",
                    "description": "Name of the referent.\nMore info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names"
                  },
                  "namespace": {
                    "type": "string",
                    "description": "Namespace of the referent.\nMore info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/"
                  },
                  "resourceVersion": {
                    "type": "string",
                    "description": "Specific resourceVersion to which this reference is made, if any.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency"
                  },
                  "uid": {
                    "type": "string",
                    "description": "UID of the referent.\nMore info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids"
                  }
                }
              },
              "hostSelector": {
                "type": "object",
                "description": "HostSelector specifies matching criteria for labels on BareMetalHosts.\nThis is used to limit the set of BareMetalHost objects considered for\nclaiming for a metal3machine.",
                "fields": {
                  "matchExpressions": {
                    "type": "array",
                    "description": "Label match expressions that must be true on a chosen BareMetalHost",
                    "fields": {
                      "key": {
                        "type": "string",
                        "description": "No description provided.",
                        "required": true
                      },
                      "operator": {
                        "type": "string",
                        "description": "Operator represents a key/field's relationship to value(s).\nSee labels.Requirement and fields.Requirement for more details.",
                        "required": true
                      },
                      "values": {
                        "type": "array",
                        "description": "No description provided.",
                        "required": true
                      }
                    }
                  },
                  "matchLabels": {
                    "type": "object",
                    "description": "Key/value pairs of labels that must exist on a chosen BareMetalHost"
                  }
                }
              },
              "image": {
                "type": "object",
                "description": "Image is the image to be provisioned.",
                "fields": {
                  "checksum": {
                    "type": "string",
                    "description": "Checksum is a md5sum, sha256sum or sha512sum value or a URL to retrieve one.",
                    "required": true
                  },
                  "checksumType": {
                    "type": "string",
                    "description": "ChecksumType is the checksum algorithm for the image.\ne.g md5, sha256, sha512",
                    "enum": [
                      "md5",
                      "sha256",
                      "sha512"
                    ]
                  },
                  "format": {
                    "type": "string",
                    "description": "DiskFormat contains the image disk format.",
                    "enum": [
                      "raw",
                      "qcow2",
                      "vdi",
                      "vmdk",
                      "live-iso"
                    ]
                  },
                  "url": {
                    "type": "string",
                    "description": "URL is a location of an image to deploy.",
                    "required": true
                  }
                }
              },
              "metaData": {
                "type": "object",
                "description": "MetaData is an object storing the reference to the secret containing the\nMetadata given by the user.",
                "fields": {
                  "name": {
                    "type": "string",
                    "description": "name is unique within a namespace to reference a secret resource."
                  },
                  "namespace": {
                    "type": "string",
                    "description": "namespace defines the space within which the secret name must be unique."
                  }
                }
              },
              "networkData": {
                "type": "object",
                "description": "NetworkData is an object storing the reference to the secret containing the\nnetwork data given by the user.",
                "fields": {
                  "name": {
                    "type": "string",
                    "description": "name is unique within a namespace to reference a secret resource."
                  },
                  "namespace": {
                    "type": "string",
                    "description": "namespace defines the space within which the secret name must be unique."
                  }
                }
              },
              "providerID": {
                "type": "string",
                "description": "ProviderID will be the Metal3 machine in ProviderID format\n(metal3://<bmh-uuid>)"
              },
              "userData": {
                "type": "object",
                "description": "UserData references the Secret that holds user data needed by the bare metal\noperator. The Namespace is optional; it will default to the metal3machine's\nnamespace if not specified.",
                "fields": {
                  "name": {
                    "type": "string",
                    "description": "name is unique within a namespace to reference a secret resource."
                  },
                  "namespace": {
                    "type": "string",
                    "description": "namespace defines the space within which the secret name must be unique."
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "status": {
    "description": "",
    "fields": {}
  },
  "exampleYAML": "apiVersion: infrastructure.cluster.x-k8s.io/v1beta1\nkind: Metal3MachineTemplate\nmetadata:\n  name: example-metal3machinetemplate\n  namespace: default\nspec:\n  template: {}\n"
}